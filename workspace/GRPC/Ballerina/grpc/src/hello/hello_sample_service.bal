import ballerina/grpc;
const string ROOT_DESCRIPTOR = "0A0B68656C6C6F2E70726F746F222A0A0C48656C6C6F52657175657374121A0A086D6573736167653118012001280952086D6573736167653122330A0D48656C6C6F526573706F6E736512220A0C66696E616C6D657373616765180120012809520C66696E616C6D657373616765322F0A0568656C6C6F12260A0568656C6C6F120D2E48656C6C6F526571756573741A0E2E48656C6C6F526573706F6E7365620670726F746F33";

service hello on new grpc:Listener(9090) {

   resource function hello(grpc:Caller caller, HelloRequest value) {
        HelloResponse response = {
            finalmessage: "hello " + value.message1 
        };
        grpc:Error? result = caller->send(response);
        result = caller->complete();
    }
}

public type HelloRequest record {|
    string message1 = "";
    
|};

public type HelloResponse record {|
    string finalmessage = "";
    
|};

function getDescriptorMap() returns map<string> {
    return {
        "hello.proto":"0A0B68656C6C6F2E70726F746F222A0A0C48656C6C6F52657175657374121A0A086D6573736167653118012001280952086D6573736167653122330A0D48656C6C6F526573706F6E736512220A0C66696E616C6D657373616765180120012809520C66696E616C6D657373616765322F0A0568656C6C6F12260A0568656C6C6F120D2E48656C6C6F526571756573741A0E2E48656C6C6F526573706F6E7365620670726F746F33"
        
    };
}

